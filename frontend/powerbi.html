<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Power BI Dashboard ‚Ä¢ ReportApp</title>
  <link rel="stylesheet" href="/static/styles.css?v=10" />
  <style>
    * { box-sizing: border-box; }
    body { background:#111; color:#eee; padding:0; margin:0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
    #pbContainer { display:flex; flex-direction:column; height:100vh; width:100vw; }
    #pbHeader { display:flex; flex-wrap:wrap; align-items:center; gap:8px; padding:10px 12px; background:linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%); border-bottom:2px solid #333; box-shadow: 0 2px 8px rgba(0,0,0,0.5); }
    #pbHeader h1 { margin:0; font-size:18px; color:#fbd72b; font-weight:700; display:flex; align-items:center; gap:6px; flex-shrink:0; }
    #pbHeader h1 span { font-size:20px; }
    #pbReportSelector { display:flex; align-items:center; gap:6px; flex:1; min-width:200px; }
    #pbReportSelector label { font-weight:600; color:#ccc; font-size:12px; white-space:nowrap; }
    #pbReportSelector select { flex:1; padding:6px 10px; border:2px solid #444; border-radius:6px; background:#2d2d2d; color:#fff; font-size:13px; cursor:pointer; min-width:0; }
    #pbReportSelector select:hover { border-color:#667eea; }
    #pbReportSelector select:focus { outline:none; border-color:#667eea; box-shadow:0 0 0 2px rgba(102,126,234,0.2); }
    #pbMsg { font-size:11px; color:#999; display:flex; align-items:center; gap:6px; flex-shrink:0; }
    #pbMsg .spinner { display:inline-block; width:12px; height:12px; border:2px solid #444; border-top:2px solid #667eea; border-radius:50%; animation:spin 0.8s linear infinite; }
    @keyframes spin { to { transform:rotate(360deg); } }
    #pbViewport { flex:1; position:relative; overflow:hidden; background:#000; min-height:0; }
    #pbViewport iframe { width:100%; height:100%; border:none; transform-origin: top left; display:block; }
    #pbFooter { padding:6px 12px; background:#1e1e1e; font-size:11px; color:#777; border-top:1px solid #333; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:6px; }
    #pbReportInfo { flex:1; min-width:100px; }
    #pbStatus { flex-shrink:0; }
    #backBtn { padding:6px 12px; background:#667eea; color:#fff; border:none; border-radius:6px; cursor:pointer; font-weight:600; font-size:12px; transition:all 0.3s; flex-shrink:0; }
    #backBtn:hover { background:#764ba2; box-shadow:0 2px 8px rgba(102,126,234,0.4); }
    #backBtn:active { transform:scale(0.98); }
    .fullscreen-active { position:fixed !important; top:0; left:0; width:100vw !important; height:100vh !important; z-index:9999; background:#000; }
    .fullscreen-active iframe { border-radius:0; }
    
    /* Mobile responsive */
    @media (max-width: 768px) {
      #pbHeader { gap:6px; padding:8px 10px; }
      #pbHeader h1 { font-size:16px; gap:4px; }
      #pbHeader h1 span { font-size:18px; }
      #pbReportSelector { min-width:150px; gap:4px; }
      #pbReportSelector label { font-size:11px; }
      #pbReportSelector select { font-size:12px; padding:5px 8px; }
      #backBtn { padding:5px 10px; font-size:11px; }
      #pbMsg { font-size:10px; }
      #pbFooter { font-size:10px; padding:5px 10px; }
    }
    
    @media (max-width: 480px) {
      #pbHeader { flex-direction:column; align-items:stretch; padding:8px; gap:8px; }
      #pbHeader h1 { font-size:14px; margin-bottom:4px; }
      #pbHeader h1 span { font-size:16px; }
      #pbReportSelector { width:100%; }
      #pbReportSelector label { display:none; }
      #pbReportSelector select { width:100%; font-size:14px; padding:8px; }
      #pbMsg { justify-content:center; width:100%; }
      #backBtn { width:100%; }
      #pbFooter { flex-direction:column; align-items:flex-start; }
      #pbReportInfo { width:100%; }
    }
  </style>
</head>
<body>
  <div id="pbContainer" style="height:100vh; width:100vw; overflow:hidden; display:flex; flex-direction:column;">
    <div id="pbHeader">
      <h1><span>üìä</span> <span style="display:inline-block;">Reports</span></h1>
      <div id="pbReportSelector" style="flex:1; min-width:0;">
        <select id="pbReportDropdown" style="width:100%;">
          <option value="">Loading reports...</option>
        </select>
      </div>
      <div id="pbMsg"></div>
      <button id="backBtn">‚Üê Back</button>
    </div>
    
    <div id="pbViewport">
      <iframe id="pbIframe"></iframe>
    </div>
    
    <div id="pbFooter">
      <span id="pbReportInfo">No report selected</span>
      <span id="pbStatus">Ready</span>
    </div>
  </div>
  <script src="/static/powerbi.js?v=4"></script>
</body>
</html>
